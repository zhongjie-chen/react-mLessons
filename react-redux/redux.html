<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="http://cdn.bootcss.com/redux/3.5.2/redux.min.js"></script>
</head>
<body>
<script>
  /** action 包含type的简单对象 用于描述发生了什么（可以看做http请求） */
  function inc() {
    return { type: 'INCREMENT' };
  }
  function dec() {
    return { type: 'DECREMENT' };
  }

  function reducer(state, action) {
    // 首次调用本函数时设置初始 state
    state = state || { counter: 0 };

    switch (action.type) {
      case 'INCREMENT':
        return { counter: state.counter + 1 };
      case 'DECREMENT':
        return { counter: state.counter - 1 };
      default:
        return state; // 无论如何都返回一个 state
    }
  }
  var store = Redux.createStore(reducer);
  var unsubscribe = store.subscribe(function(){console.log( store.getState())})
  store.dispatch(inc());
  store.dispatch(inc());
  store.dispatch(dec());
  unsubscribe();
</script>
</body>
</html>
